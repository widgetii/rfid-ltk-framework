Драйвер непрерывного чтения RFID
================================

Ридеры RFID могут функционировать во множестве разных режимов. Например, они
могут периодически опрашивать все видимые теги RFID. Больше информации об этом
можно прочитать в [спецификации LLRP][llrp].

Драйвер непрерывного чтения переводит ридер в режим непрерывного чтения. То есть
ридер считывает данные видимых тегов постоянно, а не периодически.


[llrp]: http://www.gs1.org/gsmp/kc/epcglobal/llrp/llrp_1_0_1-standard-20070813.pdf


Исходный код
------------

Реализация драйвера непрерывного чтения находится в пакете
`ru.aplix.ltk.driver.ctg`. API снабжено описаниями JavaDoc.

Элементы пользовательского интерфейса, специфичные для для драйвера, реализованы
в пакете `ru.aplix.ltk.driver.ctg.ui`.


Настройки
---------

Настройки соединения с ридером и режима функционирования задаются программно
(класс `CtgRfSettings`), а также - через пользовательский интерфейс настроек
тестового приложения и в виде настроек профиля приложения-накопителя.

Поддерживаются следующие настройки (в скобках - значения по умолчанию):

- `readerHost` _Адрес ридера_ (**обязателен**) - IP-адрес или имя хоста ридера.
- `readerPort` _Порт ридера_ (5084) - TCP-порт ридера.
- `roSpecId` _Идентификатор клиента_ (123) - идентификатор ROSpec.
  См. [сецификацию][llrp], п. 10.2.1). В принципе - любое положительное число.
  Лучше не менять.
- `exclusiveMode` _Монопольно_ (false) - монопольный режим использования ридера.
  Если включён, то перед началом чтения драйвер очистит все запросы на чтение
  (RO spec) в ридере. Это приведёт к тому, что остальные клиенты перестанут
  получать данные от ридера. При этом соединение с ними разорвано не будет.
  В обычном, не монопольном режиме, драйвер очистит лишь запрос на чтение с
  тем же идентификатором, что впоследствии создаст сам (`roSpecId`).
- `antennas` _Антенны_ - номера антенн ридера, с которых требуется получать
  данные. Данные с других антенн будут проигнорированы. Формат записи - числа
  или их интервалы, разделённые запятыми. Пустая строка и минус означают
  пустой список (в этом случае будет обновляться состояние, но не будет
  получаться информация о тегах). Звёздочка (`*`) означает "все антенны".
- `connectionTimeout` _Время ожидания соединения_ (10000) - время в
  миллисекундах, отпущенное на установку соединения с ридером.
- `transactionTimeout` _Время ожидания ответа_ (10000) - время в миллисекундах,
  отпущенное на ожидание ответа на отправленный ридеру запрос.
- `reconnectionDelay` _Задержка переподключения_ (10000) - время в миллисекундах
  между попытками пере-установки соединения в случае его потери
  (см. `keepAliveRequestPeriod`).
- `keepAliveRequestPeriod` _Период запросов поддержки соединения_ - время в
  миллисекундах между запросами `KEEPALIVE` (см. [спецификацию][llrp], п. 13.1).
  Ридер будет присылать такие запросы с указанной периодичность. Если накопитель
  не будет получать данных от ридера в течение `keepAliveRequestPeriod * 3`
  миллисекунд, то он сочтёт соединение потерянным и начнёт попытки установить
  его заново.
