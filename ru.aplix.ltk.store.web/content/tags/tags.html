<div class="container-fluid" ng-controller="RfTagsCtrl">
<div class="row-fluid">
  <div class="span3">
    <form name="queryForm" ng-submit="searchIfNotStarted()">
      <legend>Поиск тегов</legend>
      <fieldset class="form-search">
        <div class="input-append controls">
          <input
            type="text"
            name="tag"
            class="input-medium search-query"
            ng-model="query.tag"
            placeholder="Тег">
          <span
            class="add-on text-error"
            title="Стереть"
            ng-click="resetTag()">&#4030;</span>
          <button
            class="btn btn-primary"
            ng-class="{'btn-disabled': state.inProgress}">Найти</button>
        </div>
      </fieldset>
    </form>
  </div>
  <div class="span9" ng-show="tags.events.length">
    <table class="table table-hover table-striped">
    <thead>
      <tr>
        <th><span class="pull-right">#</span></th>
        <th ng-hide="query.receiver">Приёмник</th>
        <th>Время</th>
        <th>Тег</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="event in tags.events">
        <td><span
          class="badge pull-right"
          ng-class="{'badge-success': event.appeared, 'badge-important': !event.appeared}">
          {{event.id}}
        </span></td>
        <td ng-hide="query.receiver">
          <span ng-class="{deleted: event.receiver.deleted}">
            {{receiverName(event.receiver)}}
          </span>
        </td>
        <td>{{event.timestamp|date:'yyyy-MM-dd HH:mm:ss'}}.{{event.timestamp % 1000}}</td>
        <td>{{event.tag}}</td>
      </tr>
    </tbody>
    </table>
    <pagination
      class="pagination-centered"
      total-items="tags.totalCount"
      page="query.page"
      items-per-page="query.pageSize"
      max-size="9"
      boundary-links="true"
      previous-text="&lsaquo;"
      next-text="&rsaquo;"
      first-text="&laquo;"
      last-text="&raquo;"
      on-select-page="setPage(page)">
    </pagination>
  </div>
</div>
</div>
